# ===================================================================
# = ARQUIVO DE PROPRIEDADES DE TESTE (src/test/resources/application.properties)
# ===================================================================
# Este arquivo substitui o application.properties principal
# apenas quando você roda os testes (ex: `mvn test`)

# --- Configuração do Servidor ---
# Usar uma porta aleatória (0) evita conflitos se sua
# aplicação principal já estiver rodando na 8081
server.port=0

# --- Banco de Dados em Memória H2 ---
# Usamos H2 em memória para testes. É rápido e descartável.
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driver-class-name=org.h2.Driver

# --- Configuração do JPA (Específico para Testes) ---
# create-drop: Cria o banco do zero a cada execução de teste
# e o destrói no final. Garante que um teste não afete o outro.
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# Desativa o console H2 (não precisamos dele nos testes)
spring.h2.console.enabled=false

# --- Configurações de E-mail (Mailtrap) ---
# É seguro manter o Mailtrap, pois ele é um sandbox de teste
# e não envia e-mails reais.
spring.mail.host=sandbox.smtp.mailtrap.io
spring.mail.port=2525
spring.mail.username=5b64d751f74003
spring.mail.password=a3c209d3569904
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.name=nao-responda@eventosesportivosifsp.com.br

# --- Configurações do JWT ---
# Manter as mesmas do dev para consistência nos testes
jwt.secret=dCRaM3J0MXh8Q3E0Ti1GQFhDc0guUl5FSHk+LitERHthYQ==
jwt.expiration-ms=86400000

# --- URL da Aplicação (Para Testes) ---
# Geralmente não é necessário, pois o port é aleatório.
# Seus testes de e-mail devem "mockar" essa propriedade.
# app.base-url=http://localhost

# --- Logging ---
# Reduz o "barulho" dos logs durante os testes
logging.level.root=WARN
logging.level.br.ifsp.events=INFO
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN